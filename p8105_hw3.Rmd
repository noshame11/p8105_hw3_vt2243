---
title: 'Homework #3'
author: "Vincent Tam"
date: "October 9, 2018"
output:
  github_document: default
---
```{r Library Package Setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
## Prepare Setup to Answer Problem 3
## Install Libraries
library(tidyverse)
library(rvest)
library(httr)
## install.packages("devtools")
## devtools::install_github("p8105/p8105.datasets"); already installed but do not want to install every time
library(p8105.datasets)
data(brfss_smart2010)
```
Problem 1
```{r Clean and Wrangle Data to Prepare for Answering Questions, include = FALSE}
## Clean, Filter, Select, Mutate, and Separate Variables
brfss_data = 
  janitor::clean_names(dat = brfss_smart2010) %>%
  filter(topic == "Overall Health") %>%
  filter(response == "Excellent" | response == "Very Good" | response == "Good" | response == "Fair" | response == "Poor") %>%
  select(year, locationdesc, response, data_value) %>%
  mutate(cleaned_response = as.factor(response)) %>%
  separate(locationdesc, into = c("state", "county"), sep = " - ")
```
```{r Answering Questions, eval = FALSE}
brfss_data_2002 =
  filter(brfss_data, year == "2002") %>%
  distinct(state, county) %>%
  count(state) %>%
  filter(n == 7)
## In 2002, which states were observed at 7 locations?
brfss_data_2002
```
In 2002, the following states had 7 locations: 
```{r Spaghetti Plotting}
## Spaghetti Plots
brfss_plot = 
  brfss_data %>%
  distinct(year, state, county) %>%
  select(year, state, county) %>%
  group_by(year, state)
  mutate(count = n)
ggplot(brfss_plot, aes(x = year)) + geom_point() + geom_line()
```

