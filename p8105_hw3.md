Homework \#3
================
Vincent Tam
October 9, 2018

Problem 1

``` r
brfss_data_2002 =
  filter(brfss_data, year == "2002") %>%
  distinct(state, county) %>%
  count(state) %>%
  filter(n == 7)
## In 2002, which states were observed at 7 locations?
brfss_data_2002
```

In 2002, the following states had 7 locations:

``` r
## Spaghetti Plots
brfss_plot = 
  brfss_data %>%
  distinct(year, state, county) %>%
  select(year, state, county) %>%
  group_by(year, state) %>%
  mutate(count = n())
ggplot(brfss_plot, aes(x = year, y = count, color = state)) + geom_point() + geom_line()
```

![](p8105_hw3_files/figure-markdown_github/Spaghetti%20Plotting-1.png)

Making Table
------------

``` r
brfss_table =   
  brfss_data %>%
  filter(year == '2002' | year == '2006' | year == '2010') %>%
  filter(state == 'NY') %>%
  filter(response == 'Excellent') %>%
  mutate(data_value_numeric = as.numeric(data_value)) %>%
  group_by(year) %>%
  summarize(brfss_NYexcellentsd = sd(data_value_numeric), brfss_NYexcellentmean = mean(data_value_numeric))
brfss_table
```

    ## # A tibble: 3 x 3
    ##    year brfss_NYexcellentsd brfss_NYexcellentmean
    ##   <int>               <dbl>                 <dbl>
    ## 1  2002                4.49                  24.0
    ## 2  2006                4.00                  22.5
    ## 3  2010                3.57                  22.7

``` r
brfss_proportions =
  brfss_data %>%
  mutate(year_factor = as.factor('year')) %>%
  group_by(year_factor, state) %>%
  filter(response == 'Excellent' | response == 'Very Good') %>%
  mutate(data_value_numeric = as.numeric(data_value)) %>%
  summarize(brfss_excellentmean = mean('Excellent'), 
            brfss_verygoodmean = mean('Very Good'), 
            brfss_goodmean = mean(data_value_numeric),
            brfss_fairmean = mean(data_value_numeric),
            brfss_poormean = mean(data_value_numeric)) %>%
  mutate(response_proportions = factor('cleaned_response', levels = c('brfss_excellentmean', 'brfss_goodmean')))
```

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Excellent"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

    ## Warning in mean.default("Very Good"): argument is not numeric or logical:
    ## returning NA

``` r
brfss_proportions
```

    ## # A tibble: 51 x 8
    ## # Groups:   year_factor [1]
    ##    year_factor state brfss_excellent~ brfss_verygoodm~ brfss_goodmean
    ##    <fct>       <chr>            <dbl>            <dbl>          <dbl>
    ##  1 year        AK                  NA               NA           23.6
    ##  2 year        AL                  NA               NA           18.6
    ##  3 year        AR                  NA               NA           21.9
    ##  4 year        AZ                  NA               NA           21.4
    ##  5 year        CA                  NA               NA           23.3
    ##  6 year        CO                  NA               NA           24.4
    ##  7 year        CT                  NA               NA           26.4
    ##  8 year        DC                  NA               NA           27.4
    ##  9 year        DE                  NA               NA           20.0
    ## 10 year        FL                  NA               NA           NA  
    ## # ... with 41 more rows, and 3 more variables: brfss_fairmean <dbl>,
    ## #   brfss_poormean <dbl>, response_proportions <fct>

``` r
## For each year and state, compute the average proportion in each response category (taking the average across locations in a state). Make a five-panel plot that shows, for each response category separately, the distribution of these state-level averages over time
```

Problem \#2
-----------

``` r
## install.packages("devtools")
## devtools::install_github("p8105/p8105.datasets"); already installed but do not want to install every time
##library(p8105.datasets); already installed but do not want to install every time
library(tidyverse)
```

``` r
View(instacart)
## instacart_cleaned =
  
##  instacart %>%
##  janitor::clean_names() %>%
##  filter(aisle != 'missing')
```
